const a0_0x179a49=a0_0x4791;(function(_0xf84356,_0x36561a){const _0x283f53=a0_0x4791,_0x14229b=_0xf84356();while(!![]){try{const _0x1e941d=-parseInt(_0x283f53(0x89))/0x1*(-parseInt(_0x283f53(0x8b))/0x2)+parseInt(_0x283f53(0x8c))/0x3+-parseInt(_0x283f53(0x7f))/0x4*(parseInt(_0x283f53(0x73))/0x5)+-parseInt(_0x283f53(0x8e))/0x6*(-parseInt(_0x283f53(0x7d))/0x7)+-parseInt(_0x283f53(0x8d))/0x8+parseInt(_0x283f53(0x72))/0x9+-parseInt(_0x283f53(0x87))/0xa*(parseInt(_0x283f53(0x76))/0xb);if(_0x1e941d===_0x36561a)break;else _0x14229b['push'](_0x14229b['shift']());}catch(_0x4701c7){_0x14229b['push'](_0x14229b['shift']());}}}(a0_0x2e52,0x42331));function a0_0x2e52(){const _0x403e58=['40vRNtzl','connect','1902ZrEtHj','1006287RFNTWv','2026088DLjiud','4842lOPyaE','1213893qIQvcl','70shnMtM','WhatsApp\x20connected','loggedOut','10186LtaJpY','emit','new\x20chat','messages.upsert','bind','whatsapp_connected','statusCode','1484psLBaZ','./auth_info','37676IRHOkw','chat','creds.update','error','whatsapp_disconnected','output','silent','open','250UaCmXD','WhatsApp\x20disconnected'];a0_0x2e52=function(){return _0x403e58;};return a0_0x2e52();}import a0_0x3e008a,{DisconnectReason,makeInMemoryStore}from'@whiskeysockets/baileys';import a0_0x45ca03 from'pino';import{IncomingMessages}from'../core/agregator/agregatorWhatsapp.service.js';const {default:makeWASocket,useMultiFileAuthState}=a0_0x3e008a;export const store=makeInMemoryStore({'logger':a0_0x45ca03({'level':a0_0x179a49(0x85)})});let whatsappClient=null,whatsappQR=null;export const startWhatsApp=async _0x2661e9=>{const _0x45b5cf=a0_0x179a49,{state:_0x24ad68,saveCreds:_0x23d6cb}=await useMultiFileAuthState(_0x45b5cf(0x7e));whatsappClient=makeWASocket({'auth':_0x24ad68,'printQRInTerminal':!![]}),store[_0x45b5cf(0x7a)](whatsappClient['ev']),whatsappClient['ev']['on'](_0x45b5cf(0x81),_0x23d6cb),whatsappClient['ev']['on']('connection.update',_0x4464b2=>{const _0x4cf0c1=_0x45b5cf,{connection:_0x10f81a,lastDisconnect:_0x1ea32a,qr:_0xf7906a}=_0x4464b2;_0xf7906a&&(whatsappQR=_0xf7906a,_0x2661e9[_0x4cf0c1(0x77)]('qr',{'qr':_0xf7906a}));_0x10f81a===_0x4cf0c1(0x86)&&(whatsappQR=_0x4cf0c1(0x8a),_0x2661e9[_0x4cf0c1(0x77)](_0x4cf0c1(0x7b),{'message':_0x4cf0c1(0x74)}));if(_0x10f81a==='close'){const _0x201442=_0x1ea32a[_0x4cf0c1(0x82)]?.[_0x4cf0c1(0x84)]?.[_0x4cf0c1(0x7c)]!==DisconnectReason[_0x4cf0c1(0x75)];whatsappQR='disconect',_0x2661e9[_0x4cf0c1(0x77)](_0x4cf0c1(0x83),{'message':_0x4cf0c1(0x88)}),_0x201442&&startWhatsApp(_0x2661e9);}}),whatsappClient['ev']['on'](_0x45b5cf(0x79),_0x38979e=>{const _0x1bb9dd=_0x45b5cf;_0x2661e9[_0x1bb9dd(0x77)](_0x1bb9dd(0x80),{'message':_0x1bb9dd(0x78)}),IncomingMessages(_0x38979e);});};export const getWhatsappClient=()=>{return whatsappClient;};function a0_0x4791(_0x4d80e6,_0x4ee7ac){const _0x2e528c=a0_0x2e52();return a0_0x4791=function(_0x4791a3,_0x1ebf1a){_0x4791a3=_0x4791a3-0x72;let _0x32a397=_0x2e528c[_0x4791a3];return _0x32a397;},a0_0x4791(_0x4d80e6,_0x4ee7ac);}export const getWhatsappQR=()=>{return whatsappQR;};