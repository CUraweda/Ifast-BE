const a0_0xc6bbe6=a0_0x5bba;(function(_0xd033a4,_0x5f91c){const _0x105afc=a0_0x5bba,_0x1c31b2=_0xd033a4();while(!![]){try{const _0x5ab513=-parseInt(_0x105afc(0x171))/0x1*(-parseInt(_0x105afc(0x179))/0x2)+parseInt(_0x105afc(0x17a))/0x3*(-parseInt(_0x105afc(0x16a))/0x4)+parseInt(_0x105afc(0x165))/0x5*(parseInt(_0x105afc(0x172))/0x6)+parseInt(_0x105afc(0x15e))/0x7+parseInt(_0x105afc(0x164))/0x8+-parseInt(_0x105afc(0x16b))/0x9*(parseInt(_0x105afc(0x178))/0xa)+-parseInt(_0x105afc(0x16d))/0xb*(parseInt(_0x105afc(0x15b))/0xc);if(_0x5ab513===_0x5f91c)break;else _0x1c31b2['push'](_0x1c31b2['shift']());}catch(_0x19b49b){_0x1c31b2['push'](_0x1c31b2['shift']());}}}(a0_0x43de,0x9359e));import a0_0x5cd6b8,{DisconnectReason,makeInMemoryStore}from'baileys';function a0_0x43de(){const _0x19dadf=['WhatsApp\x20client\x20is\x20null,\x20pesan\x20tidak\x20diproses.','1013372OTyeAL','531mrhUjh','connection.update','2718298XgeExU','new\x20chat','./auth_info','messages.upsert','26vamMei','3463986IbvdMn','loggedOut','bind','disconnect','WhatsApp\x20connected','whatsapp_connected','46890iJmnwD','83622YAtSCO','9jxtKwd','emit','open','60CHLIya','Attempting\x20to\x20reconnect\x20in\x205\x20seconds...','close','2258942HZRhFj','log','error','whatsapp_disconnected','WhatsApp\x20client\x20is\x20not\x20initialized.','creds.update','2490928yyYwnT','10ZuWWbG','silent','WhatsApp\x20disconnected','chat'];a0_0x43de=function(){return _0x19dadf;};return a0_0x43de();}import a0_0x372ed9 from'pino';import{IncomingMessages}from'../core/agregator/agregatorWhatsapp.service.js';const {default:makeWASocket,useMultiFileAuthState}=a0_0x5cd6b8;export const store=makeInMemoryStore({'logger':a0_0x372ed9({'level':a0_0xc6bbe6(0x166)})});let whatsappClient=null,whatsappQR=null;export const startWhatsApp=async _0x6ac31c=>{const _0x1b48fb=a0_0xc6bbe6,{state:_0x51bbd1,saveCreds:_0x515b32}=await useMultiFileAuthState(_0x1b48fb(0x16f));whatsappClient=makeWASocket({'auth':_0x51bbd1,'printQRInTerminal':!![]}),store[_0x1b48fb(0x174)](whatsappClient['ev']),whatsappClient['ev']['on'](_0x1b48fb(0x163),_0x515b32),whatsappClient['ev']['on'](_0x1b48fb(0x16c),_0x3416ea=>{const _0x22b9a3=_0x1b48fb,{connection:_0x1284cf,lastDisconnect:_0x3dd2b5,qr:_0x3d6cd0}=_0x3416ea;_0x3d6cd0&&(whatsappQR=_0x3d6cd0,_0x6ac31c[_0x22b9a3(0x17b)]('qr',{'qr':_0x3d6cd0}));_0x1284cf===_0x22b9a3(0x15a)&&(whatsappQR='connect',_0x6ac31c['emit'](_0x22b9a3(0x177),{'message':_0x22b9a3(0x176)}));if(_0x1284cf===_0x22b9a3(0x15d)){const _0x204e8c=_0x3dd2b5[_0x22b9a3(0x160)]?.['output']?.['statusCode']!==DisconnectReason[_0x22b9a3(0x173)];whatsappQR=_0x22b9a3(0x175),_0x6ac31c[_0x22b9a3(0x17b)](_0x22b9a3(0x161),{'message':_0x22b9a3(0x167)}),whatsappClient=null,_0x204e8c&&(console[_0x22b9a3(0x15f)](_0x22b9a3(0x15c)),setTimeout(()=>startWhatsApp(_0x6ac31c),0x1388));}}),whatsappClient['ev']['on'](_0x1b48fb(0x170),_0x523b35=>{const _0x3641bd=_0x1b48fb;_0x6ac31c[_0x3641bd(0x17b)](_0x3641bd(0x168),{'message':_0x3641bd(0x16e)}),whatsappClient?IncomingMessages(_0x523b35):console['error'](_0x3641bd(0x169));});};function a0_0x5bba(_0x43a2c1,_0x37006c){const _0x43de90=a0_0x43de();return a0_0x5bba=function(_0x5bba5f,_0x2346df){_0x5bba5f=_0x5bba5f-0x15a;let _0x440efb=_0x43de90[_0x5bba5f];return _0x440efb;},a0_0x5bba(_0x43a2c1,_0x37006c);}export const getWhatsappClient=()=>{const _0x4211bf=a0_0xc6bbe6;return!whatsappClient&&console[_0x4211bf(0x160)](_0x4211bf(0x162)),whatsappClient;};export const getWhatsappQR=()=>{return whatsappQR;};